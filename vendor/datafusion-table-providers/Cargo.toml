# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
name = "datafusion-table-providers"
version = "0.2.4"
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Extend the capabilities of DataFusion to support additional data sources via implementations of the `TableProvider` trait."
readme = "README.md"
license = "Apache-2.0"
repository = "https://github.com/datafusion-contrib/datafusion-table-providers"

[lib]
name = "datafusion_table_providers"
path = "src/lib.rs"

[[example]]
name = "duckdb"
path = "examples/duckdb.rs"

[[example]]
name = "duckdb_external_table"
path = "examples/duckdb_external_table.rs"

[[example]]
name = "duckdb_function"
path = "examples/duckdb_function.rs"

[[example]]
name = "flight-sql"
path = "examples/flight-sql.rs"

[[example]]
name = "mysql"
path = "examples/mysql.rs"

[[example]]
name = "odbc_sqlite"
path = "examples/odbc_sqlite.rs"
required-features = [
    "sqlite",
    "odbc",
]

[[example]]
name = "postgres"
path = "examples/postgres.rs"

[[example]]
name = "sqlite"
path = "examples/sqlite.rs"

[[test]]
name = "integration"
path = "tests/integration.rs"

[dependencies.arrow-flight]
version = "53"
features = [
    "flight-sql-experimental",
    "tls",
]
optional = true

[dependencies.arrow-odbc]
version = "=14.0.1"
optional = true

[dependencies.async-stream]
version = "0.3"
optional = true

[dependencies.async-trait]
version = "0.1"

[dependencies.bb8]
version = "0.9"
optional = true

[dependencies.bb8-postgres]
version = "0.9"
optional = true

[dependencies.bigdecimal]
version = "0.4"

[dependencies.byteorder]
version = "1.5.0"

[dependencies.chrono]
version = "0.4"

[dependencies.dashmap]
version = "6.1.0"

[dependencies.datafusion]
version = "44"
default-features = false

[dependencies.datafusion-federation]
version = "=0.3.4"
features = ["sql"]
optional = true

[dependencies.datafusion-proto]
version = "44"
optional = true

[dependencies.duckdb]
version = "1.1.1"
features = [
    "bundled",
    "r2d2",
    "vtab",
    "vtab-arrow",
    "appender-arrow",
]
optional = true

[dependencies.dyn-clone]
version = "1.0"
optional = true

[dependencies.fallible-iterator]
version = "0.3.0"

[dependencies.fundu]
version = "2.0.1"

[dependencies.futures]
version = "0.3"

[dependencies.geo-types]
version = "0.7"

[dependencies.itertools]
version = "0.14.0"

[dependencies.mysql_async]
version = "0.35"
features = [
    "native-tls-tls",
    "chrono",
    "time",
    "bigdecimal",
]
optional = true

[dependencies.native-tls]
version = "0.2"
optional = true

[dependencies.num-bigint]
version = "0.4"

[dependencies.odbc-api]
version = "10.1"
optional = true

[dependencies.pem]
version = "3.0.4"
optional = true

[dependencies.postgres-native-tls]
version = "0.5.0"
optional = true

[dependencies.prost]
version = "0.13"
optional = true

[dependencies.r2d2]
version = "0.8"
optional = true

[dependencies.rusqlite]
version = "0.32"
optional = true

[dependencies.sea-query]
version = "0.32"
features = [
    "backend-sqlite",
    "backend-postgres",
    "postgres-array",
    "with-rust_decimal",
    "with-bigdecimal",
    "with-time",
    "with-chrono",
]

[dependencies.secrecy]
version = "0.8.0"

[dependencies.serde]
version = "1.0"
optional = true

[dependencies.serde_json]
version = "1.0"

[dependencies.sha2]
version = "0.10"

[dependencies.snafu]
version = "0.8"

[dependencies.time]
version = "0.3"

[dependencies.tokio]
version = "1.43"
features = [
    "macros",
    "fs",
]

[dependencies.tokio-postgres]
version = "0.7"
features = [
    "with-chrono-0_4",
    "with-uuid-1",
    "with-serde_json-1",
    "with-geo-types-0_7",
]
optional = true

[dependencies.tokio-rusqlite]
version = "0.6.0"
optional = true

[dependencies.tonic]
version = "0.12"
features = [
    "tls-native-roots",
    "tls-webpki-roots",
]
optional = true

[dependencies.tracing]
version = "0.1"

[dependencies.trust-dns-resolver]
version = "0.23.2"

[dependencies.url]
version = "2.5.4"

[dependencies.uuid]
version = "1.11"
optional = true

[dev-dependencies.anyhow]
version = "1.0"

[dev-dependencies.bollard]
version = "0.18.1"

[dev-dependencies.geozero]
version = "0.14.0"
features = ["with-wkb"]

[dev-dependencies.insta]
version = "1.42.0"
features = ["filters"]

[dev-dependencies.prost]
version = "0.13"

[dev-dependencies.rand]
version = "0.8"

[dev-dependencies.reqwest]
version = "0.12"

[dev-dependencies.rstest]
version = "0.24.0"

[dev-dependencies.test-log]
version = "0.2"
features = ["trace"]

[dev-dependencies.tokio-stream]
version = "0.1"
features = ["net"]

[dev-dependencies.tracing-subscriber]
version = "0.3"
features = ["env-filter"]

[features]
duckdb = [
    "dep:duckdb",
    "dep:r2d2",
    "dep:uuid",
    "dep:dyn-clone",
    "dep:async-stream",
]
duckdb-federation = [
    "duckdb",
    "federation",
]
federation = ["dep:datafusion-federation"]
flight = [
    "dep:arrow-flight",
    "datafusion/serde",
    "dep:datafusion-proto",
    "dep:serde",
    "dep:tonic",
]
mysql = [
    "dep:mysql_async",
    "dep:async-stream",
]
mysql-federation = [
    "mysql",
    "federation",
]
odbc = [
    "dep:odbc-api",
    "dep:arrow-odbc",
    "dep:async-stream",
    "dep:dyn-clone",
]
odbc-federation = [
    "odbc",
    "federation",
]
postgres = [
    "dep:tokio-postgres",
    "dep:uuid",
    "dep:postgres-native-tls",
    "dep:bb8",
    "dep:bb8-postgres",
    "dep:native-tls",
    "dep:pem",
    "dep:async-stream",
]
postgres-federation = [
    "postgres",
    "federation",
]
sqlite = [
    "dep:rusqlite",
    "dep:tokio-rusqlite",
]
sqlite-federation = [
    "sqlite",
    "federation",
]
