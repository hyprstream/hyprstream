# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.80.1"
name = "datafusion"
version = "44.0.0"
authors = ["Apache DataFusion <dev@datafusion.apache.org>"]
build = false
include = [
    "benches/*.rs",
    "src/**/*.rs",
    "Cargo.toml",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "DataFusion is an in-memory query engine that uses Apache Arrow as the memory model"
homepage = "https://datafusion.apache.org"
readme = "README.md"
keywords = [
    "arrow",
    "query",
    "sql",
]
license = "Apache-2.0"
repository = "https://github.com/apache/datafusion"

[lib]
name = "datafusion"
path = "src/lib.rs"

[[bin]]
name = "print_config_docs"
path = "src/bin/print_config_docs.rs"

[[bin]]
name = "print_functions_docs"
path = "src/bin/print_functions_docs.rs"

[[bench]]
name = "aggregate_query_sql"
path = "benches/aggregate_query_sql.rs"
harness = false

[[bench]]
name = "csv_load"
path = "benches/csv_load.rs"
harness = false

[[bench]]
name = "distinct_query_sql"
path = "benches/distinct_query_sql.rs"
harness = false

[[bench]]
name = "filter_query_sql"
path = "benches/filter_query_sql.rs"
harness = false

[[bench]]
name = "map_query_sql"
path = "benches/map_query_sql.rs"
harness = false
required-features = ["nested_expressions"]

[[bench]]
name = "math_query_sql"
path = "benches/math_query_sql.rs"
harness = false

[[bench]]
name = "parquet_query_sql"
path = "benches/parquet_query_sql.rs"
harness = false
required-features = ["parquet"]

[[bench]]
name = "physical_plan"
path = "benches/physical_plan.rs"
harness = false

[[bench]]
name = "scalar"
path = "benches/scalar.rs"
harness = false

[[bench]]
name = "sort"
path = "benches/sort.rs"
harness = false

[[bench]]
name = "sort_limit_query_sql"
path = "benches/sort_limit_query_sql.rs"
harness = false

[[bench]]
name = "sql_planner"
path = "benches/sql_planner.rs"
harness = false

[[bench]]
name = "sql_query_with_io"
path = "benches/sql_query_with_io.rs"
harness = false

[[bench]]
name = "topk_aggregate"
path = "benches/topk_aggregate.rs"
harness = false

[[bench]]
name = "window_query_sql"
path = "benches/window_query_sql.rs"
harness = false

[dependencies.apache-avro]
version = "0.17"
optional = true

[dependencies.arrow]
version = "53.3.0"
features = ["prettyprint"]

[dependencies.arrow-array]
version = "53.3.0"
features = ["chrono-tz"]
default-features = false

[dependencies.arrow-ipc]
version = "53.3.0"
features = ["lz4"]
default-features = false

[dependencies.arrow-schema]
version = "53.3.0"
default-features = false

[dependencies.async-compression]
version = "0.4.0"
features = [
    "bzip2",
    "gzip",
    "xz",
    "zstd",
    "tokio",
]
optional = true

[dependencies.async-trait]
version = "0.1.73"

[dependencies.bytes]
version = "1.4"

[dependencies.bzip2]
version = "0.5.0"
optional = true

[dependencies.chrono]
version = "0.4.38"
default-features = false

[dependencies.dashmap]
version = "6.0.1"

[dependencies.datafusion-catalog]
version = "44.0.0"

[dependencies.datafusion-common]
version = "44.0.0"
features = ["object_store"]
default-features = false

[dependencies.datafusion-common-runtime]
version = "44.0.0"

[dependencies.datafusion-execution]
version = "44.0.0"

[dependencies.datafusion-expr]
version = "44.0.0"

[dependencies.datafusion-functions]
version = "44.0.0"

[dependencies.datafusion-functions-aggregate]
version = "44.0.0"

[dependencies.datafusion-functions-nested]
version = "44.0.0"
optional = true

[dependencies.datafusion-functions-table]
version = "44.0.0"

[dependencies.datafusion-functions-window]
version = "44.0.0"

[dependencies.datafusion-optimizer]
version = "44.0.0"
default-features = false

[dependencies.datafusion-physical-expr]
version = "44.0.0"
default-features = false

[dependencies.datafusion-physical-expr-common]
version = "44.0.0"
default-features = false

[dependencies.datafusion-physical-optimizer]
version = "44.0.0"

[dependencies.datafusion-physical-plan]
version = "44.0.0"

[dependencies.datafusion-sql]
version = "44.0.0"

[dependencies.flate2]
version = "1.0.24"
optional = true

[dependencies.futures]
version = "0.3"

[dependencies.glob]
version = "0.3.0"

[dependencies.itertools]
version = "0.13"

[dependencies.log]
version = "^0.4"

[dependencies.num-traits]
version = "0.2"
optional = true

[dependencies.object_store]
version = "0.11.0"
default-features = false

[dependencies.parking_lot]
version = "0.12"

[dependencies.parquet]
version = "53.3.0"
features = [
    "arrow",
    "async",
    "object_store",
]
optional = true
default-features = true

[dependencies.rand]
version = "0.8"

[dependencies.regex]
version = "1.8"

[dependencies.sqlparser]
version = "0.53.0"
features = ["visitor"]

[dependencies.tempfile]
version = "3"

[dependencies.tokio]
version = "1.36"
features = [
    "macros",
    "rt",
    "sync",
]

[dependencies.tokio-util]
version = "0.7.4"
features = ["io"]
optional = true

[dependencies.url]
version = "2.2"

[dependencies.uuid]
version = "1.7"
features = ["v4"]

[dependencies.xz2]
version = "0.1"
features = ["static"]
optional = true

[dependencies.zstd]
version = "0.13"
optional = true
default-features = false

[dev-dependencies.arrow-buffer]
version = "53.3.0"
default-features = false

[dev-dependencies.async-trait]
version = "0.1.73"

[dev-dependencies.criterion]
version = "0.5"
features = ["async_tokio"]

[dev-dependencies.ctor]
version = "0.2.0"

[dev-dependencies.datafusion-functions-window-common]
version = "44.0.0"

[dev-dependencies.doc-comment]
version = "0.3"

[dev-dependencies.env_logger]
version = "0.11"

[dev-dependencies.paste]
version = "^1.0"

[dev-dependencies.rand]
version = "0.8"
features = ["small_rng"]

[dev-dependencies.rand_distr]
version = "0.4.3"

[dev-dependencies.regex]
version = "1.8"

[dev-dependencies.rstest]
version = "0.23.0"

[dev-dependencies.serde_json]
version = "1"

[dev-dependencies.tokio]
version = "1.36"
features = [
    "macros",
    "rt",
    "sync",
    "rt-multi-thread",
    "parking_lot",
    "fs",
]

[features]
array_expressions = ["nested_expressions"]
avro = [
    "apache-avro",
    "num-traits",
    "datafusion-common/avro",
]
backtrace = ["datafusion-common/backtrace"]
compression = [
    "xz2",
    "bzip2",
    "flate2",
    "zstd",
    "async-compression",
    "tokio-util",
]
crypto_expressions = ["datafusion-functions/crypto_expressions"]
datetime_expressions = ["datafusion-functions/datetime_expressions"]
default = [
    "nested_expressions",
    "crypto_expressions",
    "datetime_expressions",
    "encoding_expressions",
    "regex_expressions",
    "string_expressions",
    "unicode_expressions",
    "compression",
    "parquet",
    "recursive_protection",
]
encoding_expressions = ["datafusion-functions/encoding_expressions"]
force_hash_collisions = [
    "datafusion-physical-plan/force_hash_collisions",
    "datafusion-common/force_hash_collisions",
]
math_expressions = ["datafusion-functions/math_expressions"]
nested_expressions = ["datafusion-functions-nested"]
parquet = [
    "datafusion-common/parquet",
    "dep:parquet",
]
pyarrow = [
    "datafusion-common/pyarrow",
    "parquet",
]
recursive_protection = [
    "datafusion-common/recursive_protection",
    "datafusion-expr/recursive_protection",
    "datafusion-optimizer/recursive_protection",
    "datafusion-physical-optimizer/recursive_protection",
    "datafusion-sql/recursive_protection",
]
regex_expressions = ["datafusion-functions/regex_expressions"]
serde = ["arrow-schema/serde"]
string_expressions = ["datafusion-functions/string_expressions"]
unicode_expressions = [
    "datafusion-sql/unicode_expressions",
    "datafusion-functions/unicode_expressions",
]

[target.'cfg(not(target_os = "windows"))'.dev-dependencies.nix]
version = "0.29.0"
features = ["fs"]

[lints.clippy]
large_futures = "warn"

[lints.rust]
unused_qualifications = "deny"

[lints.rust.unexpected_cfgs]
level = "warn"
priority = 0
check-cfg = ["cfg(tarpaulin)"]
